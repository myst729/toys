void function(e){if(e.__WECALL__)console.warn("[WECALL] Already installed.");else{var t=document.createElement("script");t.async=!0,t.type="text/javascript",t.src="https://unpkg.com/xceptor@0.4.0/xceptor.js",t.onload=(()=>{XCeptor.post(/\/webwxsync/,()=>{},(e,t)=>{var s=JSON.parse(t.responseText);s.AddMsgList.forEach(e=>{10002===e.MsgType&&(!function(e){var t=[...document.querySelectorAll("div.bubble[data-cm]")].find(t=>JSON.parse(t.dataset.cm).msgId===e);t&&(t.style.border="1px solid red")}(e.Content.match(/&lt;msgid&gt;(\d+)&lt;\/msgid&gt;/)[1]),e.MsgType=1e4,e.Content="防撤回啦～")}),t.response=t.responseText=JSON.stringify(s)}),XCeptor.post(/\/webwxrevokemsg/,()=>{},(e,t)=>{t.response=t.responseText=`{"BaseResponse":{"Ret":1}}`}),function(){e.__WECALL__=!0,console.info("[WECALL] Successfully installed.");var t=document.createElement("div");t.innerHTML="微<br>信<br>防<br>撤<br>✔",t.style.backgroundColor="yellow",t.style.color="red",t.style.fontSize="64px",t.style.fontWeight="bold",t.style.textAlign="center",t.style.padding="36px",t.style.position="fixed",t.style.top="0",t.style.zIndex="99999";var s=t.cloneNode(!0);t.style.left=s.style.right="-200px",t.style.transition="left 1s ease-in-out",s.style.transition="right 1s ease-in-out",document.body.appendChild(t),document.body.appendChild(s),setTimeout(()=>{s.style.right=t.style.left="0"},100)}()}),document.body.appendChild(t)}}(this)
